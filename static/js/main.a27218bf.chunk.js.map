{"version":3,"sources":["components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","services/gallery-service.js","components/Context/Context.js","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Section/Section.jsx","components/IconButton/IconButton.jsx","icons/close.svg","components/Modal/Modal.jsx","components/DefaultEmpyField/DefaultEmptyField.jsx","App.js","index.js"],"names":["LoaderSpinner","className","type","color","height","width","timeout","Searchbar","onSubmit","useState","query","setQuery","Provider","value","size","e","preventDefault","name","autoComplete","autoFocus","placeholder","onChange","currentTarget","memo","Button","onClick","fetchGallery","currentPage","axios","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","createContext","ImageGallery","gallery","map","image","id","webformatURL","largeImageURL","previewURL","Consumer","hadleImageClick","src","data-src","alt","data-large","ImageGalleryItem","Section","children","IconButton","allyProps","defaultProps","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","SvgClose","_ref","svgRef","title","titleId","props","style","enableBackground","viewBox","xmlSpace","xmlns","xmlnsXlink","ref","ForwardRef","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","aria-label","fill","DefaultEmptyField","App","setGallery","setPage","isLoading","setLoading","search","setSearch","selectedImgURL","setSelectedImgURL","isModalOpen","setModal","selectedLowQImgUrl","setSelectedLowQImgUrl","images","state","catch","error","toast","finally","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","newestOnTop","rtl","pauseOnFocusLoss","draggablePercent","nodeName","fullImgLink","getAttribute","lowSrc","body","overflowY","options","top","behavior","pageYOffset","documentElement","clientHeight","setTimeout","scrollTo","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a27218bf.chunk.js","sourcesContent":["import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport './Loader.css';\n\nexport default function LoaderSpinner() {\n  return (\n    <Loader\n      className=\"Loader App-logo\"\n      type=\"Circles\"\n      color=\"#00BFFF\"\n      height={300}\n      width={300}\n      timeout={3000} //3 secs\n    />\n  );\n}\n","import React, { useState, memo } from 'react';\nimport { FaSearchengin } from 'react-icons/fa';\nimport { IconContext } from 'react-icons';\n\nimport './Searchbar.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => {\n    setQuery(e.currentTarget.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <div className=\"logobox\">\n        <IconContext.Provider\n          value={{ color: 'black', size: '1.5em', className: 'react-icons' }}\n        >\n          <div className=\"logobox__icon\">\n            <FaSearchengin />\n          </div>\n        </IconContext.Provider>\n        <span className=\"logobox__text\">Search and Save</span>\n      </div>\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          value={query}\n          className=\"SearchForm-input\"\n          name=\"form_input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default memo(Searchbar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Button.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst API_KEY = '18944189-177b692c9d9a1e8dfd1f135d6';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n// axios.defaults.headers.common['Aithorization'] = 'Bearer 18944189-177b692c9d9a1e8dfd1f135d6'\n\nconst fetchGallery = (query, currentPage) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nfetchGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default fetchGallery;\n","import { createContext } from 'react';\n\nexport default createContext();\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ImageGallery.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nexport default function ImageGallery({ gallery }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map(image => ImageGalleryItem(image))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  gallery: PropTypes.arrayOf(PropTypes.object),\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ImageGalleryItem.css';\nimport authContext from '../Context';\nimport 'lazysizes';\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  largeImageURL,\n  previewURL,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\" key={`id-${id}`}>\n      <authContext.Consumer>\n        {hadleImageClick => (\n          <img\n            src={previewURL}\n            data-src={webformatURL}\n            alt=\"searchedPicture\"\n            data-large={largeImageURL}\n            className=\"ImageGalleryItem-image lazyload blur-up\"\n            onClick={hadleImageClick}\n          />\n        )}\n      </authContext.Consumer>\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  previewURL: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Section.css';\n\nexport default function Section({ children }) {\n  return <div className=\"Section\">{children}</div>;\n}\n\nSection.propTypes = {\n  children: PropTypes.node,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './IconButton.scss';\n\nconst IconButton = ({ children, onClick, ...allyProps }) => (\n  <button type=\"button\" className=\"IconButton\" onClick={onClick} {...allyProps}>\n    {children}\n  </button>\n);\n\nIconButton.defaultProps = {\n  onClick: () => null,\n  children: null,\n};\n\nIconButton.propTypes = {\n  onClick: PropTypes.func,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string.isRequired,\n};\n\nexport default IconButton;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z\"\n});\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512px\",\n    id: \"Layer_1\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    viewBox: \"0 0 512 512\",\n    width: \"512px\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.c39ccb73.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport './Modal.scss';\nimport IconButton from '../IconButton/IconButton';\nimport { ReactComponent as CloseIcon } from '../../icons/close.svg';\n\nconst modalRoot = document.querySelector('#modal-root');\n\n// переиспользуемая модалка, как children любой контент передаем\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    // закрытие по клику эскпейпа\n    function handleKeyDown(e) {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    }\n    window.addEventListener('keydown', handleKeyDown);\n\n    return function clearup() {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose, children]);\n\n  //   закрытие по клику в бэкдроп\n  function handelBackdropClick(e) {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  }\n\n  // \"портал\" для модалки (убирает костыль с z-index и оверфлоу)\n  return createPortal(\n    <div className=\"Modal__backdrop\" onClick={handelBackdropClick}>\n      <div className=\"Modal__content\">\n        <IconButton\n          className=\"Modal__close IconButton\"\n          aria-label=\"Close Modal icon\"\n          onClick={onClose}\n        >\n          <CloseIcon width=\"32\" height=\"32\" fill=\"#black\" />\n        </IconButton>\n        {children}\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n","import React from 'react';\nimport './DefaultEmptyField.css';\n\nexport default function DefaultEmptyField() {\n  return (\n    <div className=\"emptyField\">\n      <h2 className=\"emptyField__text\">\n        It's so empty, enter some request and enjoy hundreds of pictures!\n      </h2>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport 'lazysizes';\nimport { ToastContainer, toast } from 'react-toastify';\nimport LoaderSpinner from './components/Loader';\nimport Seachbar from './components/Searchbar';\nimport Button from './components/Button';\nimport fetchGallery from './services/gallery-service';\nimport ImageGallery from './components/ImageGallery';\nimport Section from './components/Section';\nimport Modal from './components/Modal';\nimport DefaultEmptyField from './components/DefaultEmpyField';\nimport authContext from './components/Context';\n\nexport default function App() {\n  const [gallery, setGallery] = useState([]);\n  const [currentPage, setPage] = useState(1);\n  const [isLoading, setLoading] = useState(false);\n  const [search, setSearch] = useState('');\n  const [selectedImgURL, setSelectedImgURL] = useState('');\n  const [isModalOpen, setModal] = useState(false);\n  const [selectedLowQImgUrl, setSelectedLowQImgUrl] = useState('');\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n\n    setLoading(true);\n\n    fetchGallery(search, currentPage)\n      .then(images => {\n        setGallery(state => [...state, ...images]);\n      })\n      .catch(error => toast(error))\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [currentPage, search]);\n\n  function onLoadMoreBtnClick() {\n    setPage(state => state + 1);\n    const options = {\n      top: null,\n      behavior: 'smooth',\n    };\n\n    options.top = window.pageYOffset + document.documentElement.clientHeight;\n    setTimeout(() => {\n      window.scrollTo(options);\n    }, 1000);\n  }\n\n  const handleSubmit = query => {\n    if (query !== search) {\n      setGallery([]);\n      setSearch(query);\n      setPage(1);\n    }\n\n    if (!query) {\n      const notify = () =>\n        toast.info('🚀 Search field is empty!', {\n          position: 'top-center',\n          autoClose: 3000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: false,\n          draggable: true,\n          progress: undefined,\n        });\n      notify();\n\n      return;\n    }\n  };\n\n  const hadleImageClick = e => {\n    if (e.target.nodeName !== 'IMG') {\n      return;\n    }\n\n    e.preventDefault();\n\n    const fullImgLink = e.target.getAttribute('data-large');\n    const lowSrc = e.target.getAttribute('src');\n\n    setSelectedImgURL(fullImgLink);\n    setSelectedLowQImgUrl(lowSrc);\n    setModal(true);\n  };\n\n  const toggleModal = () => {\n    setModal(!isModalOpen);\n\n    if (isModalOpen) {\n      document.body.style.overflowY = 'hidden';\n    }\n  };\n\n  return (\n    <>\n      <Seachbar onSubmit={handleSubmit} />\n\n      {gallery.length === 0 && <DefaultEmptyField />}\n\n      <ToastContainer\n        position=\"top-center\"\n        autoClose={3000}\n        hideProgressBar={false}\n        newestOnTop\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        draggablePercent={60}\n      />\n\n      {isLoading && (\n        <Section>\n          <LoaderSpinner />\n        </Section>\n      )}\n\n      <authContext.Provider value={hadleImageClick}>\n        {search && <ImageGallery gallery={gallery} />}\n      </authContext.Provider>\n\n      {isModalOpen && (\n        <Modal onClose={toggleModal}>\n          <img\n            src={selectedLowQImgUrl}\n            data-src={selectedImgURL}\n            alt=\"fullsizeImage\"\n            className=\"lazyload blur-up modal-img\"\n          ></img>\n        </Modal>\n      )}\n\n      <Section>\n        {search && gallery.length > 11 && (\n          <Button onClick={onLoadMoreBtnClick} />\n        )}\n      </Section>\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}